# 🤖 Confess.exe: Cyber-Interrogation System

**Confess.exe**는 AI 용의자의 심리를 파고들어 자백을 받아내는 고도의 전략 기반 인터랙티브 추리 게임입니다. 사이버펑크 감성의 터미널 환경에서 용의자의 정신적 방어선을 무너뜨리고 진실을 확보하십시오.

---

## 🏗 1. 시스템 아키텍처 및 상태 관리

- **프레임워크**: Next.js (App Router) 기반의 100% 클라이언트 사이드 게임 루프.
- **상태 엔진 (`page.tsx`)**:
    - `selectedScenario`: 현재 진행 중인 시나리오 정보 탐색 및 관리.
    - `messages`: 대화 기록 전체(`role`, `content`)를 관리하며 실시간 UI 렌더링.
    - `currentState`: 용의자의 **심리 수치(Stress, Contradiction, Willpower)** 및 **패널티 카운터(stressPeakTurns)** 실시간 추적.

---

## 📐 2. 레이아웃 구조 (UX/UI 가이드라인)

독립적인 스크롤과 고정 요소들의 유기적인 결합으로 최상의 터미널 UX를 제공합니다.

- **최상위 컨테이너 (`globals.css`)**: `html`, `body` 레벨에서 `overflow: hidden` 처리하여 브라우저 전체 스크롤을 방지하고 견고한 터미널 틀을 형성합니다.
- **상단 정보 구역 (`status-bar`)**: 40px 높이로 고정되어 실시간 상태 수치(STRESS, CONTRADICTION, WILLPOWER)를 상시 노출합니다.
- **메인 레이아웃 (`main-layout`)**: Flexbox 구조를 통해 **사이드바(350px 고정)**와 **심문 영역(가변 전체)**을 정밀하게 분리합니다.
- **독립적 스크롤 구역 (`chat-log-area`)**: 화면 중앙의 대화창은 독립적으로 스크롤되며, 전용 형광색 스크롤바가 적용되어 긴 심문 과정에서도 가독성을 유지합니다.
- **하단 입력 구역 (`input-area`)**: `flex-shrink: 0`과 하단 고정 설정을 통해 어떤 대화 길이에서도 사용자의 입력 흐름을 방해하지 않습니다.

---

## 📜 3. 시나리오 데이터 (`scenarios.ts`)

현재 시스템은 3개의 정교한 시나리오를 제공하며, 각 용의자는 고유의 **비밀(Secret)**과 **초기 상태치**를 보유합니다.

1. **강도훈 (IT 사업가)**: 서초동 저택 살인 사건. 
2. **이다혜 (바이오 연구원)**: 프로젝트 세이렌 기밀 유출.
3. **박민석 (해커)**: 국가 안보국 서버 해킹.

---

## ⚡️ 4. 시각적 연출 및 오버로드 패널티

- **CRT/터미널 쉐이더**: 스캔 라인 애니메이션과 미세한 노이즈 효과로 고전 터미널의 감성을 재현합니다.
- **스마트 글리치 시스템**: 
    - 스트레스 100% 도달 시 **상단 상태바의 에러 수치들**만 개별적으로 흔들리며 긴박함을 연출합니다.
    - 메인 영역은 흔들림 대신 **에러 팝업창 연출**을 적용하여 멀미를 방지하고 시각적 효과를 극대화했습니다.
- **시스템 오버로드 패널티**:
    - 스트레스 100%가 **3턴간 지속**될 경우 시스템 오류로 세션이 강제 종료(`ABORT`)됩니다.
    - 폭주 상태에서는 압박형 질문 시 용의자의 **의지력이 역전 회복**되는 강력한 패널티가 존재합니다.

---

## 🛠 실행 및 설정

1. **API 설정**: `.env.local` 파일에 `OPENAI_API_KEY`를 추가합니다.
2. **설치 및 실행**:
   ```bash
   npm install
   npm run dev
   ```

---

*본 프로젝트는 인공지능의 페르소나와 감정 모델링을 통한 게임 플레이 경험을 실험하기 위해 제작되었습니다.*
